<div *ngIf="!resources || resources.length == 0">
  <mat-progress-bar mode="indeterminate"></mat-progress-bar>
</div>

<div class="row w-100 mx-0" *ngIf="resources && resources.length > 0">
  <mat-card class="w-100 mb-4 p-0">
    <!-- <div class="card w-100 mb-4"> -->
    <table class="table w-100 table-hover table-striped">
      <thead>
        <tr>
          <th>SN</th>
          <th>Name</th>
          <th class="width-10">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr
          *ngFor="
            let resource of resources
              | paginate: { itemsPerPage: itemsPerPage, currentPage: page };
            let i = index;
            trackBy: trackByFn
          "
        >
          <td>{{ i + 10 * (page - 1) + 1 }}</td>
          <td>{{ resource.displayName }}</td>
          <td>
            â€‹
            <button
              mat-icon-button
              [matMenuTriggerFor]="menu"
              matTooltip="More actions on resource"
            >
              <mat-icon>more_vert</mat-icon>
            </button>
            <mat-menu #menu="matMenu">
              <button
                mat-menu-item
                *ngIf="!resource.external"
                (click)="openResource(resource)"
              >
                <mat-icon>cloud_download</mat-icon>
                <span>Download</span>
              </button>
              <button
                mat-menu-item
                *ngIf="resource.external"
                (click)="openResource(resource)"
              >
                <mat-icon>link</mat-icon>
                <span>Download</span>
              </button>
            </mat-menu>
          </td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <td [attr.colspan]="3">
            <app-pagination
              [itemsPerPage]="itemsPerPage"
              [pageInterval]="itemsPerPage"
              [pageIntervalFactor]="1"
              [currentPage]="page"
              [dataArray]="resources"
              [maxSize]="resources.length"
              (changeCurrentPage)="onCurrentPageUpdate($event)"
              (updateItemsPerPage)="onUpdatePageSize($event)"
            >
            </app-pagination>
          </td>
        </tr>
      </tfoot>
    </table>
    <!-- </div> -->
  </mat-card>
</div>
